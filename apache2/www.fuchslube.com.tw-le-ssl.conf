<IfModule mod_ssl.c>
<VirtualHost *:443>
    ServerAdmin gswdkimo@oil.com.tw
    ServerName fuchslube.com.tw
    ServerAlias www.fuchslube.com.tw
    #Redirect / https://fuchslube.com.tw/
    DocumentRoot "/home/webs/www.fuchslube.com.tw/web"
    # 日誌設定
    ErrorLog "| /usr/bin/rotatelogs /var/log/webs/www.fuchslube.com.tw/fuchslube-error_log-%Y-%m-%d 86400"
    CustomLog "| /usr/bin/rotatelogs /var/log/webs/www.fuchslube.com.tw/fuchslube-access_log-%Y-%m-%d 86400" combined
    <Directory "/home/webs/www.fuchslube.com.tw/web">
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>
    # 設定預設首頁
    DirectoryIndex index.html
    # 設定正確的 MIME 類型
    AddDefaultCharset UTF-8
    # SSL 設定
    SSLCertificateFile /etc/letsencrypt/live/fuchslube.com.tw/fullchain.pem
    SSLCertificateKeyFile /etc/letsencrypt/live/fuchslube.com.tw/privkey.pem
    Include /etc/letsencrypt/options-ssl-apache.conf

    # API 反向代理
    ProxyRequests Off
    ProxyPreserveHost On

    <Proxy *>
        Require all granted
    </Proxy>

    ProxyPass           /admin/ http://127.0.0.1:5000/
    ProxyPassReverse    /admin/ http://127.0.0.1:5000/
</VirtualHost>
</IfModule>