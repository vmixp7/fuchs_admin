<VirtualHost *:443>
    ServerAdmin gswdkimo@oil.com.tw
    ServerName admin.fuchslube.com.tw

    # SSL 設定
    SSLCertificateFile /etc/letsencrypt/live/admin.fuchslube.com.tw/fullchain.pem
    SSLCertificateKeyFile /etc/letsencrypt/live/admin.fuchslube.com.tw/privkey.pem
    Include /etc/letsencrypt/options-ssl-apache.conf

    ProxyRequests Off
    ProxyPreserveHost On

    <Proxy *>
        Require all granted
    </Proxy>

    ProxyPass        /  http://127.0.0.1:5000/
    ProxyPassReverse /  http://127.0.0.1:5000/

    ErrorLog "| /usr/bin/rotatelogs /var/log/webs/admin.fuchslube.com.tw/fuchslube-error_log-%Y-%m-%d 86400"
    CustomLog "| /usr/bin/rotatelogs /var/log/webs/admin.fuchslube.com.tw/fuchslube-access_log-%Y-%m-%d 86400" combined

    # HTTP Basic Auth（第一道防線）
    # <Location />
    #     AuthType Basic
    #     AuthName "Admin Area"
    #     AuthUserFile /etc/apache2/.htpasswd
    #     Require valid-user
    # </Location>
</VirtualHost>
